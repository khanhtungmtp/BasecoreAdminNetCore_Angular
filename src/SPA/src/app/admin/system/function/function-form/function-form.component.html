<form nz-form
      [formGroup]="dataForm"
      (ngSubmit)="submitForm()">
  <nz-form-item>
    <nz-form-label [nzSpan]="5"
                   nzRequired>Id</nz-form-label>
    <nz-form-control [nzSpan]="15"
                     nzHasFeedback
                     nzValidatingTip="Validating..."
                     [nzErrorTip]="idErrorTpl">
      <input nz-input
             formControlName="id"
             placeholder="id" />
      <ng-template #idErrorTpl
                   let-control>
        @if (control.errors?.['required']) {
        Please input your id!
        }
        @if (control.errors?.['duplicated']) {
        The id is redundant!
        }
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="5"
                   nzRequired>Name</nz-form-label>
    <nz-form-control [nzSpan]="15"
                     nzHasFeedback
                     nzValidatingTip="Validating..."
                     [nzErrorTip]="nameErrorTpl">
      <input nz-input
             formControlName="name"
             placeholder="name" />
      <ng-template #nameErrorTpl
                   let-control>
        @if (control.errors?.['required']) {
        Please input your name!
        }
        @if (control.errors?.['duplicated']) {
        The name is redundant!
        }
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="5"
                   nzRequired>Url</nz-form-label>
    <nz-form-control [nzSpan]="15"
                     nzHasFeedback
                     nzValidatingTip="Validating..."
                     [nzErrorTip]="urlErrorTpl">
      <input nz-input
             formControlName="url"
             placeholder="url" />
      <ng-template #urlErrorTpl
                   let-control>
        @if (control.errors?.['required']) {
        Please input your url!
        }
        @if (control.errors?.['duplicated']) {
        The url is redundant!
        }
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="5"
                   nzRequired>Icon</nz-form-label>
        <nz-form-control [nzSpan]="15">
          <nz-input-group [nzAddOnAfter]="selIcon">
            <input formControlName="icon"
                   nz-input />
          </nz-input-group>
          <ng-template #selIcon>
            <app-icon-sel [visible]="selIconVisible"
                          (selIcon)="seledIcon($event)"></app-icon-sel>
          </ng-template>
        </nz-form-control>
        </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="5"
                   nzFor="parentId"
                   nzRequired>ParentId</nz-form-label>
    <nz-form-control [nzSpan]="15"
                     nzErrorTip="Please select your parent!">
      <nz-tree-select [nzNodes]="nodes"
                      formControlName="parentId"
                      nzVirtualHeight="300px"
                      [nzDefaultExpandAll]="true"
                      nzShowSearch
                      nzPlaceHolder="Please select"
                      [nzDropdownMatchSelectWidth]="false">
      </nz-tree-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSpan]="5">Sort Order</nz-form-label>
    <nz-input-number formControlName="sortOrder"
                     style="width: 63%"
                     [nzMin]="0"
                     [nzMax]="10"
                     [nzStep]="1"></nz-input-number>
  </nz-form-item>

</form>
<div *nzModalFooter>
  <button nz-button
          nzType="default"
          (click)="handleCancel()">Cancel</button>
  <button nz-button
          nzType="primary"
          [disabled]="!dataForm.valid"
          (click)="submitForm()">Save</button>
</div>
