<!--Head section-->
<app-page-header [pageHeaderInfo]="pageHeaderInfo" />

<div class="normal-table-wrap">
  <nz-card class="m-b-10"
           [nzBodyStyle]="{ 'padding-bottom': 0 }">
    <app-water-mark />
    <form nz-form>
      <div nz-row
           [nzGutter]="{ xs: 8, sm: 16, md: 24 }">
        <div nz-col
             [nzLg]="8"
             [nzMd]="12"
             [nzSm]="24"
             [nzXl]="8"
             [nzXs]="24"
             [nzXXl]="8">
          <nz-form-item>
            <nz-form-label [nzFor]="">Name</nz-form-label>
            <nz-form-control>
              <input name="ruleName"
                     nz-input
                     placeholder="Rule name"
                     [(ngModel)]="searchParam.ruleName" />
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col
             [nzLg]="8"
             [nzMd]="12"
             [nzSm]="24"
             [nzXl]="8"
             [nzXs]="24"
             [nzXXl]="8">
          <nz-form-item>
            <nz-form-label [nzFor]="">Url</nz-form-label>
            <nz-form-control>
              <input name="desc"
                     nz-input
                     placeholder="please enter"
                     [(ngModel)]="searchParam.desc" />
            </nz-form-control>
          </nz-form-item>
        </div>

        <div class="m-b-8 text-right p-0"
             nz-col
             [nzLg]="8"
             [nzMd]="12"
             [nzSm]="24"
             [nzXl]="8"
             [nzXs]="24"
             [nzXXl]="8">
          <button nz-button
                  [nzType]="'primary'">
            <i nz-icon
               nzType="search"></i>
            search
          </button>
          <button class="m-l-15"
                  nz-button
                  (click)="resetForm()">
            <i nz-icon
               nzTheme="outline"
               nzType="close-circle"></i>
            reset
          </button>
        </div>
      </div>
    </form>
  </nz-card>

  <app-card-table-wrap [btnTpl]="tableBtns"
                       [tableTitle]="'Functions'"
                       (reload)="reloadTable()">
    <app-ant-table [checkedCashArrayFromComment]="checkedCashArray"
                   [tableConfig]="tableConfig"
                   [tableData]="dataList"
                   (changePageNum)="getDataList($event)"
                   (changePageSize)="changePageSize($event)"
                   (selectedChange)="selectedChecked($event)"
                   (sortFn)="changeSort($event)"></app-ant-table>
    <ng-template #operationTpl
                 let-id="id"
                 let-longText="longText">
      <span class="operate-text"
         (click)="check(longText)"><span nz-icon
              nzType="eye"
              nzTheme="outline"></span></span>
       <!--Added the way to write permissions-->
       <!-- <span *appAuth="ActionCode.FireSysSettingDel" class="operate-text" (click)="del(id)">Delete</span>-->
       <span class="operate-text"
             (click)="del(id)"><span nz-icon
                  nzType="delete"
                  nzTheme="outline"></span></span>
       <span class="operate-text"
             (click)="openModal(id)"><span nz-icon
                  nzType="edit"
                  nzTheme="outline"></span></span>
    </ng-template>
  </app-card-table-wrap>
</div>

<ng-template #tableBtns>
  <button class="m-r-8"
          nz-button
          nzType="primary"
          (click)="openModal()">
    <i nz-icon
       nzType="plus"></i>
  New
  </button>
  <button nz-button
          nzType="default"
          (click)="allDel()">
    <i nz-icon
       nzType="delete"></i>
    delete
  </button>
</ng-template>
